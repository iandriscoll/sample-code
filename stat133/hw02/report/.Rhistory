ggplot(data = player_distances) + geom_point(aes(x = shot_distance, y = total_shots)) +
facet_wrap(~ name)
player_distances = dat %>%
group_by(name, minute) %>%
summarise(total_shots = n())
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots)) +
facet_wrap(~ name)
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots)) +
facet_wrap(~ name) + geom_path(color = 'blue')
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots)) +
facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots, color = 'blue'))
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots)) +
facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots))
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots)) +
facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'blue')
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots, color = 'deepskyblue1')) + facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'deepskyblue1')
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots), color = 'deepskyblue1') + facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'deepskyblue1')
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') + facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'steelblue2')
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') + facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') + theme_minimal()
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') + facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') + theme_minimal() + geom_rect()
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') + facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') + theme_minimal() + scale_x_continuous()
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') + facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') + theme_minimal() + scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') + facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') + theme_minimal() + scale_x_continuous(breaks = c(1, 12, 24, 36, 48)) + geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = 60))
ggplot(data = player_distances) + geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') + facet_wrap(~ name) + geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') + theme_minimal() + scale_x_continuous(breaks = c(1, 12, 24, 36, 48)) + geom_rect(aes(xmin = c(1, 24), ymin = c(0, 0), xmax = c(12, 36), ymax = c(60, 60)), color = 'gray90')
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = 60), color = 'gray90') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = 60), color = 'gray90') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), color = 'gray90') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), color = 'gray90') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), color = 'gray90') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf, color = 'gray97')) +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), color = 'gray90') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), color = 'gray97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), colour = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), colour = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), colour = 'grey50') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), colour = 'grey50') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), colour = 'grey50') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), colour = 'steelblue2') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 15, ymax = Inf), colour = 'grey50') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), colour = 'steelblue2') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), colour = 'grey') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), colour = 'grey') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), colour = 'black') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), colour = 'black') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), colour = 'orange') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), colour = 'black') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2') +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.7) +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2') +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.4) +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.4) +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.4) +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.6) +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.4) +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.8) +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.4) +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48))
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.8) +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.4) +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48)) +
ggtitle('Total number of shots (by minute of occurrence)')
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.8) +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.4) +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48)) +
ggtitle('Total number of shots (by minute of occurrence)', size = 0.8)
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.8) +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.4) +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48)) +
ggtitle('Total number of shots (by minute of occurrence)') +
xlab('minute') +
ylab('total number of shots')
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = length(filter(dat, shot_made_flag == 'made shot')) / length(dat))
length(filter(dat, shot_made_flag == 'made shot')
nrow(filter(dat, shot_made_flag == 'made shot')
nrow(filter(dat, shot_made_flag == 'made shot'))
length(filter(dat, shot_made_flag == 'made shot'))
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = (filter(shot_made_flag == 'made shot') / n()))
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = (filter(dat$shot_made_flag == 'made shot') / n()))
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = (filter(dat, dat$shot_made_flag == 'made shot') / n()))
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
made_shot_prop = filter(shot_made_flag == 'made shot') / n()
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
made_shot_prop = filter(dat$shot_made_flag == 'made shot') / n()
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
made_shot_prop = length(dat$shot_made_flag == 'made shot') / n()
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
made_shot_prop = length(dat$shot_made_flag == 'made shot') / n()
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = length(dat$shot_made_flag == 'made shot') / n())
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = nrow(shot_made_flag == 'made shot') / n())
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = length(shot_made_flag[shot_made_flag=="shot made"]) / n())
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = (length(shot_made_flag[shot_made_flag=="shot made"]) / n()))
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = (nrow(shot_made_flag[shot_made_flag=="shot made"]) / n()))
# Table of shot distances and proportion of made shots
dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = (length(dat$shot_made_flag[shot_made_flag=="shot made"]) / n()))
dat %>%
group_by(name) %>%
filter(shot_type == '3PT Field Goal') %>%
summarise(total = n()) %>%
mutate(made = made_shots3) %>%
mutate(perc_made = made / total) %>%
arrange(desc(perc_made))
knitr::opts_chunk$set(echo = TRUE, fig.path = '../images/')
library(dplyr)
dat = read.csv('../data/shots-data.csv')
# table of players and total shot attempts
dat %>%
group_by(name) %>%
summarise(total = n()) %>%
arrange(desc(total))
# table with player, total shot attempts, made shot, and percentage
iggy = nrow(filter(dat, name == 'Andre Iguodala' & shot_made_flag == 'made shot'))
green = nrow(filter(dat, name == 'Draymond Green' & shot_made_flag == 'made shot'))
durant = nrow(filter(dat, name == 'Kevin Durant' & shot_made_flag == 'made shot'))
thompson = nrow(filter(dat, name == 'Klay Thompson' & shot_made_flag == 'made shot'))
curry = nrow(filter(dat, name == 'Stephen Curry' & shot_made_flag == 'made shot'))
made_shots = c(iggy, green, durant, thompson, curry)
dat %>%
group_by(name) %>%
summarise(total = n()) %>%
mutate(made = made_shots) %>%
mutate(perc_made = made / total) %>%
arrange(desc(perc_made))
# 2 point shooting percentage
iggy2 = nrow(filter(dat, name == 'Andre Iguodala' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
green2 = nrow(filter(dat, name == 'Draymond Green' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
durant2 = nrow(filter(dat, name == 'Kevin Durant' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
thompson2 = nrow(filter(dat, name == 'Klay Thompson' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
curry2 = nrow(filter(dat, name == 'Stephen Curry' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
made_shots2 = c(iggy2, green2, durant2, thompson2, curry2)
dat %>%
group_by(name) %>%
filter(shot_type == '2PT Field Goal') %>%
summarise(total = n()) %>%
mutate(made = made_shots2) %>%
mutate(perc_made = made / total) %>%
arrange(desc(perc_made))
# 3 point shooting percentage
iggy3 = nrow(filter(dat, name == 'Andre Iguodala' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
green3 = nrow(filter(dat, name == 'Draymond Green' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
durant3 = nrow(filter(dat, name == 'Kevin Durant' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
thompson3 = nrow(filter(dat, name == 'Klay Thompson' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
curry3 = nrow(filter(dat, name == 'Stephen Curry' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
made_shots3 = c(iggy3, green3, durant3, thompson3, curry3)
dat %>%
group_by(name) %>%
filter(shot_type == '3PT Field Goal') %>%
summarise(total = n()) %>%
mutate(made = made_shots3) %>%
mutate(perc_made = made / total) %>%
arrange(desc(perc_made))
# Table of shot distances and proportion of made shots
made_shot
# Table of shot distances and proportion of made shots
made_dist = dat %>%
group_by(shot_distance)
View(made_dist)
summarise(total = n())
# Table of shot distances and proportion of made shots
total_dist = dat %>%
group_by(shot_distance) %>%
summarise(total = n())
View(total_dist)
missed_dist = dat %>%
group_by(shot_distance, shot_made_flag) %>%
filter(shot_made_flag == 'missed shot') %>%
summarise(missed = n())
View(total_dist)
made_dist = dat %>%
group_by(shot_distance)
dat %>%
filter(shot_made_flag == 'made shot')
a = dat %>%
filter(shot_made_flag == 'made shot') %>%
group_by(shot_distance) %>%
summarise(made = n())
View(a)
a = a[[2]]
a = dat %>%
group_by(shot_distance) %>%
summarise(made = n())
a = a[[2]]
a = dat %>%
group_by(shot_distance) %>%
summarise(total = n())
a = a[[2]]
dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'missed shot') %>%
summarise(total = a, made = a - n())
a = a[2]
dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'missed shot') %>%
summarise(total = a, made = a - n())
a = a$total
a = dat %>%
group_by(shot_distance) %>%
summarise(total = n())
a = a$total
dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'missed shot') %>%
summarise(total = a, made = a - n())
a = dat %>%
group_by(shot_distance) %>%
summarise(total = n())
a = a[2]
View(a)
dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'missed shot') %>%
summarise(total = a, made = a - n())
a = a[[2]]
a = dat %>%
group_by(shot_distance) %>%
summarise(total = n())
a = a[[2]]
dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'made shot') %>%
#ggplot(data = distances_table) + geom_point(aes(x = shot_distance, y = made_shot_prop))
dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'made shot')
a = dat %>%
group_by(shot_distance) %>%
summarise(total = n())
a = a[[2]]
dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'made shot')
dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'made shot') %>%
summarise(made = n())
b = dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'made shot') %>%
summarise(made = n())
View(b)
a = dat %>%
group_by(shot_distance) %>%
summarise(total = n(), .drop = FALSE)
View(a)
a = a[[2]]
b = dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'made shot') %>%
summarise(made = n(), .drop = FALSE)
View(b)
b = dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'made shot') %>%
summarise(made = length(shot_made_flag[shot_made_flag=="shot made"]))
View(b)
b = dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'made shot') %>%
summarise(made = length(shot_made_flag[shot_made_flag=="made shot"]))
View(b)
b = dat %>%
group_by(shot_distance) %>%
filter(shot_made_flag == 'made shot') %>%
summarise(made = length(shot_made_flag[shot_made_flag=="made shot"])) %>%
mutate(prop = made / a)
a = dat %>%
group_by(shot_distance) %>%
summarise(total = n())
a = a[[2]]
a = dat %>%
group_by(shot_distance) %>%
summarise(total = n())
b = dat %>%
group_by(shot_distance) %>%
summarise(made = length(shot_made_flag[shot_made_flag=="made shot"]))
View(b)
b = dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = length(shot_made_flag[shot_made_flag=="made shot"]))
View(b)
b = dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = length(shot_made_flag[shot_made_flag=="made shot"]) / n())
View(b)
ggplot(data = distances_table) + geom_point(aes(x = shot_distance, y = made_shot_prop))
a = dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = length(shot_made_flag[shot_made_flag=="made shot"]) / n())
ggplot(data = a) + geom_point(aes(x = shot_distance, y = made_shot_prop))
knitr::opts_chunk$set(echo = TRUE, fig.path = '../images/')
library(dplyr)
library(ggplot2)
dat = read.csv('../data/shots-data.csv')
# table of players and total shot attempts
dat %>%
group_by(name) %>%
summarise(total = n()) %>%
arrange(desc(total))
# table with player, total shot attempts, made shot, and percentage
iggy = nrow(filter(dat, name == 'Andre Iguodala' & shot_made_flag == 'made shot'))
green = nrow(filter(dat, name == 'Draymond Green' & shot_made_flag == 'made shot'))
durant = nrow(filter(dat, name == 'Kevin Durant' & shot_made_flag == 'made shot'))
thompson = nrow(filter(dat, name == 'Klay Thompson' & shot_made_flag == 'made shot'))
curry = nrow(filter(dat, name == 'Stephen Curry' & shot_made_flag == 'made shot'))
made_shots = c(iggy, green, durant, thompson, curry)
dat %>%
group_by(name) %>%
summarise(total = n()) %>%
mutate(made = made_shots) %>%
mutate(perc_made = made / total) %>%
arrange(desc(perc_made))
# 2 point shooting percentage
iggy2 = nrow(filter(dat, name == 'Andre Iguodala' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
green2 = nrow(filter(dat, name == 'Draymond Green' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
durant2 = nrow(filter(dat, name == 'Kevin Durant' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
thompson2 = nrow(filter(dat, name == 'Klay Thompson' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
curry2 = nrow(filter(dat, name == 'Stephen Curry' & shot_made_flag == 'made shot' & shot_type == '2PT Field Goal'))
made_shots2 = c(iggy2, green2, durant2, thompson2, curry2)
dat %>%
group_by(name) %>%
filter(shot_type == '2PT Field Goal') %>%
summarise(total = n()) %>%
mutate(made = made_shots2) %>%
mutate(perc_made = made / total) %>%
arrange(desc(perc_made))
# 3 point shooting percentage
iggy3 = nrow(filter(dat, name == 'Andre Iguodala' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
green3 = nrow(filter(dat, name == 'Draymond Green' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
durant3 = nrow(filter(dat, name == 'Kevin Durant' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
thompson3 = nrow(filter(dat, name == 'Klay Thompson' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
curry3 = nrow(filter(dat, name == 'Stephen Curry' & shot_made_flag == 'made shot' & shot_type == '3PT Field Goal'))
made_shots3 = c(iggy3, green3, durant3, thompson3, curry3)
dat %>%
group_by(name) %>%
filter(shot_type == '3PT Field Goal') %>%
summarise(total = n()) %>%
mutate(made = made_shots3) %>%
mutate(perc_made = made / total) %>%
arrange(desc(perc_made))
a = dat %>%
group_by(shot_distance) %>%
summarise(made_shot_prop = length(shot_made_flag[shot_made_flag=="made shot"]) / n())
ggplot(data = a) + geom_point(aes(x = shot_distance, y = made_shot_prop))
player_distances = dat %>%
group_by(name, minute) %>%
summarise(total_shots = n())
ggplot(data = player_distances) +
geom_rect(aes(xmin = 1, ymin = 0, xmax = 12, ymax = Inf), fill = 'grey97') +
geom_rect(aes(xmin = 24, ymin = 0, xmax = 36, ymax = Inf), fill = 'grey97') +
geom_point(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.8) +
facet_wrap(~ name) +
geom_path(aes(x = minute, y = total_shots), color = 'steelblue2', size = 0.4) +
theme_minimal() +
scale_x_continuous(breaks = c(1, 12, 24, 36, 48)) +
ggtitle('Total number of shots (by minute of occurrence)') +
xlab('minute') +
ylab('total number of shots')
